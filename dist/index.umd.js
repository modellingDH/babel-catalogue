(function(S,E){typeof exports=="object"&&typeof module<"u"?E(exports,require("react"),require("three"),require("@react-three/fiber"),require("@react-three/drei")):typeof define=="function"&&define.amd?define(["exports","react","three","@react-three/fiber","@react-three/drei"],E):(S=typeof globalThis<"u"?globalThis:S||self,E(S.BabelCatalogue={},S.React,S.THREE,S.ReactThreeFiber,S.ReactThreeDrei))})(this,(function(S,E,ye,te,ne){"use strict";function be(r){const a=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(r){for(const e in r)if(e!=="default"){const o=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(a,e,o.get?o:{enumerable:!0,get:()=>r[e]})}}return a.default=r,Object.freeze(a)}const M=be(ye);var G={exports:{}},L={};var re;function ve(){if(re)return L;re=1;var r=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function e(o,t,s){var i=null;if(s!==void 0&&(i=""+s),t.key!==void 0&&(i=""+t.key),"key"in t){s={};for(var c in t)c!=="key"&&(s[c]=t[c])}else s=t;return t=s.ref,{$$typeof:r,type:o,key:i,ref:t!==void 0?t:null,props:s}}return L.Fragment=a,L.jsx=e,L.jsxs=e,L}var z={};var oe;function xe(){return oe||(oe=1,process.env.NODE_ENV!=="production"&&(function(){function r(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===K?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case m:return"Fragment";case I:return"Profiler";case j:return"StrictMode";case W:return"Suspense";case Z:return"SuspenseList";case N:return"Activity"}if(typeof n=="object")switch(typeof n.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),n.$$typeof){case P:return"Portal";case O:return n.displayName||"Context";case _:return(n._context.displayName||"Context")+".Consumer";case v:var d=n.render;return n=n.displayName,n||(n=d.displayName||d.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case U:return d=n.displayName||null,d!==null?d:r(n.type)||"Memo";case D:d=n._payload,n=n._init;try{return r(n(d))}catch{}}return null}function a(n){return""+n}function e(n){try{a(n);var d=!1}catch{d=!0}if(d){d=console;var w=d.error,C=typeof Symbol=="function"&&Symbol.toStringTag&&n[Symbol.toStringTag]||n.constructor.name||"Object";return w.call(d,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",C),a(n)}}function o(n){if(n===m)return"<>";if(typeof n=="object"&&n!==null&&n.$$typeof===D)return"<...>";try{var d=r(n);return d?"<"+d+">":"<...>"}catch{return"<...>"}}function t(){var n=B.A;return n===null?null:n.getOwner()}function s(){return Error("react-stack-top-frame")}function i(n){if(F.call(n,"key")){var d=Object.getOwnPropertyDescriptor(n,"key").get;if(d&&d.isReactWarning)return!1}return n.key!==void 0}function c(n,d){function w(){R||(R=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",d))}w.isReactWarning=!0,Object.defineProperty(n,"key",{get:w,configurable:!0})}function f(){var n=r(this.type);return A[n]||(A[n]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),n=this.props.ref,n!==void 0?n:null}function p(n,d,w,C,V,Q){var k=w.ref;return n={$$typeof:h,type:n,key:d,props:w,_owner:C},(k!==void 0?k:null)!==null?Object.defineProperty(n,"ref",{enumerable:!1,get:f}):Object.defineProperty(n,"ref",{enumerable:!1,value:null}),n._store={},Object.defineProperty(n._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(n,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(n,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:V}),Object.defineProperty(n,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:Q}),Object.freeze&&(Object.freeze(n.props),Object.freeze(n)),n}function b(n,d,w,C,V,Q){var k=d.children;if(k!==void 0)if(C)if(H(k)){for(C=0;C<k.length;C++)u(k[C]);Object.freeze&&Object.freeze(k)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else u(k);if(F.call(d,"key")){k=r(n);var q=Object.keys(d).filter(function(Re){return Re!=="key"});C=0<q.length?"{key: someKey, "+q.join(": ..., ")+": ...}":"{key: someKey}",me[k+C]||(q=0<q.length?"{"+q.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,C,k,q,k),me[k+C]=!0)}if(k=null,w!==void 0&&(e(w),k=""+w),i(d)&&(e(d.key),k=""+d.key),"key"in d){w={};for(var ee in d)ee!=="key"&&(w[ee]=d[ee])}else w=d;return k&&c(w,typeof n=="function"?n.displayName||n.name||"Unknown":n),p(n,k,w,t(),V,Q)}function u(n){g(n)?n._store&&(n._store.validated=1):typeof n=="object"&&n!==null&&n.$$typeof===D&&(n._payload.status==="fulfilled"?g(n._payload.value)&&n._payload.value._store&&(n._payload.value._store.validated=1):n._store&&(n._store.validated=1))}function g(n){return typeof n=="object"&&n!==null&&n.$$typeof===h}var y=E,h=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),O=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),K=Symbol.for("react.client.reference"),B=y.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=Object.prototype.hasOwnProperty,H=Array.isArray,$=console.createTask?console.createTask:function(){return null};y={react_stack_bottom_frame:function(n){return n()}};var R,A={},Y=y.react_stack_bottom_frame.bind(y,s)(),he=$(o(s)),me={};z.Fragment=m,z.jsx=function(n,d,w){var C=1e4>B.recentlyCreatedOwnerStacks++;return b(n,d,w,!1,C?Error("react-stack-top-frame"):Y,C?$(o(n)):he)},z.jsxs=function(n,d,w){var C=1e4>B.recentlyCreatedOwnerStacks++;return b(n,d,w,!0,C?Error("react-stack-top-frame"):Y,C?$(o(n)):he)}})()),z}var ie;function Pe(){return ie||(ie=1,process.env.NODE_ENV==="production"?G.exports=ve():G.exports=xe()),G.exports}var l=Pe();const se=r=>{let a;const e=new Set,o=(p,b)=>{const u=typeof p=="function"?p(a):p;if(!Object.is(u,a)){const g=a;a=b??(typeof u!="object"||u===null)?u:Object.assign({},a,u),e.forEach(y=>y(a,g))}},t=()=>a,c={setState:o,getState:t,getInitialState:()=>f,subscribe:p=>(e.add(p),()=>e.delete(p))},f=a=r(o,t,c);return c},we=(r=>r?se(r):se),Te=r=>r;function ae(r,a=Te){const e=E.useSyncExternalStore(r.subscribe,E.useCallback(()=>a(r.getState()),[r,a]),E.useCallback(()=>a(r.getInitialState()),[r,a]));return E.useDebugValue(e),e}const le=r=>{const a=we(r),e=o=>ae(a,o);return Object.assign(e,a),e},Ce=(r=>r?le(r):le),x=(r,a,e,o,t=s=>s)=>{const s=performance.now(),i=c=>{const f=c-s,p=Math.min(f/e,1),b=t(p),u=r+(a-r)*b;o(u),p<1&&requestAnimationFrame(i)};requestAnimationFrame(i)},T=r=>r<.5?4*r*r*r:1-Math.pow(-2*r+2,3)/2,ce={pageCount:30,currentPage:15,dimensions:{height:4,width:3,depth:.6},spineRotation:.5,tilt:.2,scale:1,position:[0,0,0],frontHinge:0,backHinge:0,pageOpacity:.15,pageColor:"#00ffcc",glowIntensity:0,coverColor:"#2b1e16",coverOpacity:1,spineColor:"#1a0f0a",frontCoverText:"",backCoverText:"",coverTextColor:"#c9a876",coverOutlineColor:"#c9a876",coverOutlineWidth:3,fontFamily:"Roboto",particlesEnabled:!0,particleIntensity:.5,confidenceScore:0,debug:!1,testPageFlipAngle:0,flippingPageIndex:null,flipProgress:0,flipDirection:null,isFlippingContinuously:!1,continuousDirection:null},ke=r=>{const a={...ce,...r};return Ce((e,o)=>({...a,setPageCount:t=>{const s=Math.max(10,Math.min(100,t)),i=Math.floor(s/2);e({pageCount:s,currentPage:i,dimensions:{...o().dimensions,depth:.6}})},setCurrentPage:t=>{const{pageCount:s}=o(),i=(t%s+s)%s;e({currentPage:i})},flipPage:t=>{const s=o(),{currentPage:i,pageCount:c,flippingPageIndex:f,isFlippingContinuously:p}=s;if(f!==null){console.log("âš ï¸ Flip already in progress");return}if(t==="forward"){const b=Math.min(i+1,c-1);if(b===i){console.log("âš ï¸ Already at last page");return}console.log("ðŸ“„ Start flip forward:",i,"â†’",b),e({flippingPageIndex:i,flipProgress:0,flipDirection:"forward"});const u=500,g=performance.now(),y=h=>{const P=h-g,m=Math.min(P/u,1);e({flipProgress:m}),console.log(`  Progress: ${(m*100).toFixed(1)}%`),m<1?requestAnimationFrame(y):(e({flippingPageIndex:null,flipProgress:0,flipDirection:null}),console.log("âœ… Flip animation complete (currentPage unchanged)"),o().isFlippingContinuously&&o().continuousDirection==="forward"&&setTimeout(()=>{o().isFlippingContinuously&&o().continuousDirection==="forward"&&o().flipPage("forward")},100))};requestAnimationFrame(y)}else{const b=Math.max(i-1,0);if(b===i){console.log("âš ï¸ Already at first page");return}console.log("ðŸ“„ Start flip BACKWARD:",i,"â†’",b),console.log("   Flipping page",i,"from FRONT to BACK"),e({flippingPageIndex:i,flipProgress:0,flipDirection:"backward"});const u=500,g=performance.now(),y=h=>{const P=h-g,m=Math.min(P/u,1);e({flipProgress:m}),console.log(`  Progress: ${(m*100).toFixed(1)}% (BACKWARD)`),m<1?requestAnimationFrame(y):(e({flippingPageIndex:null,flipProgress:0,flipDirection:null}),console.log("âœ… Flip animation complete (currentPage unchanged)"),o().isFlippingContinuously&&o().continuousDirection==="backward"&&setTimeout(()=>{o().isFlippingContinuously&&o().continuousDirection==="backward"&&o().flipPage("backward")},100))};requestAnimationFrame(y)}},toggleContinuousFlip:t=>{const s=o(),{isFlippingContinuously:i,continuousDirection:c}=s;i&&c===t?(console.log("â¸ï¸ Stop continuous flip"),e({isFlippingContinuously:!1,continuousDirection:null})):(console.log("â–¶ï¸ Start continuous flip",t),e({isFlippingContinuously:!0,continuousDirection:t}),o().flipPage(t))},setDimensions:t=>{const s=o().dimensions,i={...s,...t};if(t.depth!==void 0&&t.depth!==s.depth){const c=Math.round(t.depth/.002),f=Math.max(10,Math.min(100,c));e({dimensions:i,pageCount:f,currentPage:Math.floor(f/2)})}else e({dimensions:i})},setSpineRotation:t=>e({spineRotation:t}),setTilt:t=>e({tilt:t}),setScale:t=>e({scale:t}),setPosition:t=>e({position:t}),setFrontHinge:t=>e({frontHinge:t}),setBackHinge:t=>e({backHinge:t}),setBothHinges:t=>e({frontHinge:t,backHinge:t}),setPageOpacity:t=>e({pageOpacity:t}),setPageColor:t=>e({pageColor:t}),setGlowIntensity:t=>e({glowIntensity:t}),setCoverColor:t=>e({coverColor:t}),setCoverOpacity:t=>e({coverOpacity:t}),setSpineColor:t=>e({spineColor:t}),setFrontCoverText:t=>e({frontCoverText:t}),setBackCoverText:t=>e({backCoverText:t}),setCoverTextColor:t=>e({coverTextColor:t}),setCoverOutlineColor:t=>e({coverOutlineColor:t}),setCoverOutlineWidth:t=>e({coverOutlineWidth:t}),setFontFamily:t=>e({fontFamily:t}),setParticlesEnabled:t=>e({particlesEnabled:t}),setParticleIntensity:t=>e({particleIntensity:t}),setConfidenceScore:t=>e({confidenceScore:t}),setDebug:t=>e({debug:t}),setTestPageFlipAngle:t=>{e({testPageFlipAngle:t}),console.log("ðŸ“„ Test page flip angle:",t.toFixed(1),"Â°")},reset:()=>e(ce),openBook:(t=1e3)=>{const s=o(),i=Math.PI*.4;x(s.frontHinge,i,t,c=>e({frontHinge:c}),T),x(s.backHinge,i,t,c=>e({backHinge:c}),T),x(s.particleIntensity,.7,t,c=>e({particleIntensity:c}),T)},closeBook:(t=1e3)=>{const s=o();x(s.frontHinge,0,t,i=>e({frontHinge:i}),T),x(s.backHinge,0,t,i=>e({backHinge:i}),T),x(s.particleIntensity,0,t,i=>e({particleIntensity:i}),T),x(s.glowIntensity,0,t,i=>e({glowIntensity:i}),T)},flipPages:(t,s,i=200)=>{const c=o(),{flippingPageIndex:f}=c;if(f!==null){console.log("âš ï¸ Flip already in progress");return}let p=0;const b=()=>{if(p>=t){console.log("âœ… Finished flipping",t,"pages",s);return}const u=o(),{currentPage:g,pageCount:y}=u;let h;if(s==="forward"?h=Math.min(g+1,y-1):h=Math.max(g-1,0),h===g){console.log("âš ï¸ Reached boundary at page",g);return}console.log(`ðŸ“„ Flip ${p+1}/${t}: page ${g} â†’ ${h}`),e({flippingPageIndex:g,flipProgress:0});const m=500,j=performance.now(),I=_=>{const O=_-j,v=Math.min(O/m,1);e({flipProgress:v}),v<1?requestAnimationFrame(I):(e({flippingPageIndex:null,flipProgress:0,flipDirection:null}),p++,p<t?setTimeout(b,50):console.log("âœ… All",t,"page animations complete (currentPage unchanged)"))};requestAnimationFrame(I)};console.log("â–¶ï¸ Starting",t,"page flips",s,"from page",o().currentPage),b()},triggerEmotion:t=>{const s=o();switch(t){case"focus":let i=0;const c=5,f=1200,p=()=>{if(i>=c){x(o().glowIntensity,1.2,f/2,v=>e({glowIntensity:v}),T);return}x(o().glowIntensity,1.8,f/2,v=>e({glowIntensity:v}),T),setTimeout(()=>{x(o().glowIntensity,.8,f/2,v=>e({glowIntensity:v}),T),i++,setTimeout(p,f/2)},f/2)};p(),x(s.particleIntensity,1,800,v=>e({particleIntensity:v}),T);break;case"drift":let b=0;const u=5,g=1200,y=()=>{if(b>=u){x(o().glowIntensity,.1,g/2,v=>e({glowIntensity:v}),T);return}x(o().glowIntensity,.4,g/2,v=>e({glowIntensity:v}),T),setTimeout(()=>{x(o().glowIntensity,.1,g/2,v=>e({glowIntensity:v}),T),b++,setTimeout(y,g/2)},g/2)};y(),x(s.particleIntensity,.1,1200,v=>e({particleIntensity:v}),T);break;case"paradox":const h=s.spineRotation,P=s.tilt,m=.15,j=10,I=50;let _=0;const O=()=>{if(_>=j){e({spineRotation:h,tilt:P});return}const v=h+(Math.random()-.5)*m,W=P+(Math.random()-.5)*m;e({spineRotation:v,tilt:W}),_++,setTimeout(O,I)};O(),x(s.glowIntensity,2,200,v=>e({glowIntensity:v})),setTimeout(()=>{x(2,.3,300,v=>e({glowIntensity:v}))},200);break}},morphMaterial:t=>{const s=o();switch(t){case"leather":e({coverColor:"#2b1e16",coverOpacity:1}),x(s.glowIntensity,.1,500,i=>e({glowIntensity:i}),T);break;case"metal":e({coverColor:"#556b7d",coverOpacity:1}),x(s.glowIntensity,.8,500,i=>e({glowIntensity:i}),T),x(s.particleIntensity,.9,500,i=>e({particleIntensity:i}),T);break;case"glass":e({coverColor:"#d0e8f2",coverOpacity:.3}),x(s.glowIntensity,1.8,500,i=>e({glowIntensity:i}),T),x(s.particleIntensity,1,500,i=>e({particleIntensity:i}),T);break}}}))},ue=E.createContext(null);function Se({children:r,...a}){const e=E.useRef();return e.current||(e.current=ke(a)),l.jsx(ue.Provider,{value:e.current,children:r})}function pe(r){const a=E.useContext(ue);if(!a)throw new Error("useBookStore must be used within a BookProvider");return ae(a,r)}function J({index:r,totalPages:a,currentPage:e,opacity:o=.15,color:t="#00ffcc",glow:s=0,coverWidth:i,coverHeight:c}){const f=i*.93,p=c*.95,b=.6,u=r<e,y=b/2-.05/2;let h;return u&&e>0?h=r/(e-1||1)*y:h=-((r-e)/(a-e-1||1))*y,l.jsx("group",{position:[0,0,h],children:l.jsxs("mesh",{position:[f/2,0,0],children:[l.jsx("planeGeometry",{args:[f,p]}),l.jsx("meshStandardMaterial",{color:t,transparent:!0,opacity:o,side:M.DoubleSide,emissive:t,emissiveIntensity:s,depthWrite:!1})]})})}function fe(r,a="#c9a876",e="#c9a876",o=3,t=!0,s="Roboto"){return E.useMemo(()=>{if(typeof document>"u"||!r)return null;const i=document.createElement("canvas");i.width=512,i.height=512;const c=i.getContext("2d");if(!c)return null;c.clearRect(0,0,512,512),c.fillStyle=a,c.textAlign="center",c.textBaseline="middle";const f=r.split(`
`),p=Math.min(48,Math.floor(400/f.length));c.font=`bold ${p}px ${s}, sans-serif`;const b=256-(f.length-1)*(p+10)/2;f.forEach((g,y)=>{const h=b+y*(p+10),P=g.split(" "),m=450;let j="",I=h;P.forEach((_,O)=>{const v=j+(j?" ":"")+_;c.measureText(v).width>m&&j?(c.fillText(j,256,I),j=_,I+=p+5):j=v,O===P.length-1&&c.fillText(j,256,I)})});const u=new M.CanvasTexture(i);return u.needsUpdate=!0,u},[r,a,e,o,t,s])}function X({side:r,width:a,height:e,hinge:o,text:t,textColor:s="#c9a876",outlineColor:i="#c9a876",outlineWidth:c=3,color:f="#2b1e16",opacity:p=1,fontFamily:b="Roboto"}){const u=fe(t,s,i,c,r==="front",b),g=.1,y=.6,h=.05,P=g/2,m=r==="front"?y/2:-y/2,j=r==="front"?-o:o;return l.jsxs("group",{position:[P,0,m],rotation:[0,j,0],children:[l.jsxs("mesh",{position:[a/2,0,0],castShadow:!0,receiveShadow:!0,children:[l.jsx("boxGeometry",{args:[a,e,h]}),l.jsx("meshStandardMaterial",{color:f,transparent:p<1,opacity:p,side:M.DoubleSide})]}),u&&l.jsxs("mesh",{position:[a/2,0,r==="front"?h/2+.01:-.035],rotation:[0,r==="back"?Math.PI:0,0],children:[l.jsx("planeGeometry",{args:[a*.9,e*.9]}),l.jsx("meshStandardMaterial",{map:u,transparent:!0,opacity:1,side:M.DoubleSide,depthWrite:!1,alphaTest:.1})]})]})}function de({width:r=.1,height:a=4,depth:e=.6,color:o="#666666",pageCount:t=30}){return l.jsxs("mesh",{position:[0,0,0],children:[l.jsx("boxGeometry",{args:[r,a,e]}),l.jsx("meshStandardMaterial",{color:o})]})}function ge({count:r=200,intensity:a,enabled:e,bookDimensions:o}){const t=E.useRef(null),{positions:s,velocities:i}=E.useMemo(()=>{const f=new Float32Array(r*3),p=new Float32Array(r*3),{height:b,width:u,depth:g}=o;for(let y=0;y<r;y++){const h=y*3;f[h]=(Math.random()-.5)*u*.5,f[h+1]=(Math.random()-.5)*b,f[h+2]=(Math.random()-.5)*g,p[h]=.01+Math.random()*.02,p[h+1]=Math.random()*.01,p[h+2]=(Math.random()-.5)*.005}return{positions:f,velocities:p}},[r,o]);if(te.useFrame((f,p)=>{if(!t.current||!e)return;const u=t.current.geometry.attributes.position,{height:g,width:y,depth:h}=o;for(let P=0;P<r;P++){const m=P*3;u.array[m]+=i[m]*a,u.array[m+1]+=i[m+1]*a,u.array[m+2]+=i[m+2]*a,u.array[m]>y*2&&(u.array[m]=(Math.random()-.5)*y*.5,u.array[m+1]=(Math.random()-.5)*g,u.array[m+2]=(Math.random()-.5)*h),Math.abs(u.array[m+1])>g*1.5&&(u.array[m+1]=(Math.random()-.5)*g),Math.abs(u.array[m+2])>h*1.5&&(u.array[m+2]=(Math.random()-.5)*h)}u.needsUpdate=!0}),!e)return null;const c=Math.max(.05,a);return l.jsxs("points",{ref:t,children:[l.jsx("bufferGeometry",{children:l.jsx("bufferAttribute",{attach:"attributes-position",count:r,array:s,itemSize:3})}),l.jsx("pointsMaterial",{size:.05*c,color:"#00ffcc",transparent:!0,opacity:c,sizeAttenuation:!0,blending:M.AdditiveBlending})]})}function je(){const r=E.useRef(null),{pageCount:a,currentPage:e,dimensions:o,spineRotation:t,tilt:s,scale:i,position:c,frontHinge:f,backHinge:p,pageOpacity:b,pageColor:u,glowIntensity:g,coverColor:y,coverOpacity:h,spineColor:P,frontCoverText:m,backCoverText:j,coverTextColor:I,coverOutlineColor:_,coverOutlineWidth:O,particlesEnabled:v,particleIntensity:W,debug:Z,testPageFlipAngle:U,flippingPageIndex:D,flipProgress:N,flipDirection:K,fontFamily:B}=pe(R=>R),F=.1,H=.6,$=.05;return te.useFrame(()=>{if(r.current){r.current.rotation.y=t,r.current.rotation.z=s,r.current.scale.setScalar(i);const R=c||[0,0,0];r.current.position.set(R[0],R[1],R[2])}}),l.jsxs("group",{ref:r,children:[Z&&l.jsxs(l.Fragment,{children:[l.jsx("axesHelper",{args:[2]}),l.jsx("gridHelper",{args:[10,10]}),l.jsx(ne.Html,{position:[0,o.height/2+.5,0],children:l.jsxs("div",{style:{background:"rgba(0,0,0,0.8)",color:"#00ffcc",padding:"10px",fontFamily:"monospace",fontSize:"10px",borderRadius:"4px",whiteSpace:"nowrap"},children:[l.jsxs("div",{children:["Total Pages: ",a]}),l.jsxs("div",{children:["Current Page: ",e]}),l.jsxs("div",{children:["Spine: ",F," Ã— ",H]}),l.jsxs("div",{children:["Back Pages: ",e]}),l.jsxs("div",{children:["Front Pages: ",a-e]}),l.jsxs("div",{children:["Cover Width: ",o.width.toFixed(2)]})]})})]}),l.jsx(de,{width:F,height:o.height,depth:H,color:P,pageCount:a}),l.jsx(X,{side:"front",width:o.width,height:o.height,hinge:f,text:m,textColor:I,outlineColor:_,outlineWidth:O,color:y,opacity:h,fontFamily:B}),l.jsx(X,{side:"back",width:o.width,height:o.height,hinge:p,text:j,textColor:I,outlineColor:_,outlineWidth:O,color:y,opacity:h,fontFamily:B}),l.jsx("group",{position:[F/2,0,-H/2],rotation:[0,p,0],children:l.jsx("group",{position:[0,0,$/2],children:Array.from({length:e},(R,A)=>A===D&&N>0?null:l.jsx(J,{index:A,totalPages:a,currentPage:e,opacity:b,color:u,glow:g,coverWidth:o.width,coverHeight:o.height},`back-${A}`))})}),l.jsx("group",{position:[F/2,0,H/2],rotation:[0,-f,0],children:l.jsx("group",{position:[0,0,-$/2],children:Array.from({length:a-e},(R,A)=>{const Y=A+e;return Y===D&&N>0?null:l.jsx(J,{index:Y,totalPages:a,currentPage:e,opacity:b,color:u,glow:g,coverWidth:o.width,coverHeight:o.height},`front-${Y}`)})})}),D!==null&&N>0&&(()=>{const R=K==="forward"?-f+N*(p- -f):p+N*(-f-p);return l.jsx("group",{position:[F/2,0,0],rotation:[0,R,0],children:l.jsxs("mesh",{position:[o.width*.93/2,0,0],children:[l.jsx("planeGeometry",{args:[o.width*.93,o.height*.95]}),l.jsx("meshStandardMaterial",{color:u,transparent:!0,opacity:b,side:M.DoubleSide,emissive:u,emissiveIntensity:g,depthWrite:!1})]})})})(),l.jsx(ge,{count:200,intensity:W,enabled:v,bookDimensions:{...o,depth:H}}),U>0&&(()=>{const R=U/180,A=p+R*(-f-p);return l.jsx("group",{position:[F/2,0,0],rotation:[0,A,0],children:l.jsxs("mesh",{position:[o.width/2,0,0],children:[l.jsx("planeGeometry",{args:[o.width,o.height]}),l.jsx("meshStandardMaterial",{color:"#ff0000",transparent:!0,opacity:.8,side:M.DoubleSide,emissive:"#ff0000",emissiveIntensity:.5})]})})})()]})}function Ee({children:r}){return l.jsxs(l.Fragment,{children:[l.jsx("ambientLight",{intensity:.8}),l.jsx("pointLight",{position:[5,5,5],intensity:1,distance:50,color:"#00ffcc"}),l.jsx(ne.OrbitControls,{makeDefault:!0,enableDamping:!0,dampingFactor:.05}),r]})}S.Book=je,S.BookProvider=Se,S.Cover=X,S.Page=J,S.Particles=ge,S.Scene=Ee,S.Spine=de,S.useBookStore=pe,S.useCoverTexture=fe,Object.defineProperty(S,Symbol.toStringTag,{value:"Module"})}));
//# sourceMappingURL=index.umd.js.map
